---
title: JSON API
description: JSON file operations in the Novadesk JavaScript API
---

import CodeBlock from '@theme/CodeBlock';
import {Method, MethodParam, ReturnValue} from '@site/src/components/Method';
import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Admonition type="warning">
The `system` object is **only available in the Main script**. UI scripts should communicate with the main script via [IPC](/api/widget-api/widget-methods/#inter-process-communication-ipc) if they need system data.
</Admonition>

## Methods

<Method
  signature="system.readJson(path)"
  description="Reads and parses a JSON file."
>
  ### Parameters
  <MethodParam name="path" type="string">
    Path to the JSON file. Can be absolute or relative to the widget script.
  </MethodParam>
  ### Return
  <ReturnValue type="Object | null">
    Returns the parsed JavaScript object if successful. Returns `null` if the file could not be read or parsed.
  </ReturnValue>
  ## Examples

<Tabs>
  <TabItem value="index-js" label="index.js" default>
<CodeBlock language="javascript">
  {`var config = system.readJson("config.json");

if (config) {
    console.log("Loaded configuration");
    console.log("Debug:", config.settings.debug);
    console.log("Background:", config.background);
    console.log("Opacity:", config.opacity);
} else {
    console.log("Failed to load configuration");
}`}
</CodeBlock>
  </TabItem>

  <TabItem value="style-css" label="style.css">
<CodeBlock language="json">
  {`{
    "settings": {
        "debug": true
    },
    "background": "dark_blue",
    "opacity": 0.8
}`}
</CodeBlock>
  </TabItem>
</Tabs>

**Output**
<CodeBlock language="text">
  {`[TimeStamp] [Novadesk] [LOG] Loaded configuration
[TimeStamp] [Novadesk] [LOG] Debug: true
[TimeStamp] [Novadesk] [LOG] Background: dark_blue
[TimeStamp] [Novadesk] [LOG] Opacity: 0.8`}
</CodeBlock>
</Method>

{/* ========================================================================== */}

<Method
  signature="system.writeJson(path, data)"
  description="Writes a JavaScript object to a JSON file."
>
  ### Parameters
  <MethodParam name="path" type="string">
    Path to the JSON file. Can be absolute or relative.
  </MethodParam>
  <MethodParam name="data" type="Object">
    The JavaScript object to serialize and write to the file.
  </MethodParam>
  ### Return
  <ReturnValue type="boolean">
    Returns `true` if the file was written successfully. Returns `false` if the operation fails.
  </ReturnValue>
  ## Examples 

#### 1. Writing a New File

<CodeBlock language="javascript">
  {`// index.js
var settings = {
    theme: "dark",
    volume: 80,
    lastRun: new Date().toString()
};

if (system.writeJson("settings.json", settings)) {
    console.log("Settings saved successfully");
} else {
    console.log("Failed to save settings");
}`}
</CodeBlock>

#### 2. Updating a Single Value

<CodeBlock language="javascript">
  {`// index.js
// 1. Read existing config
var config = system.readJson("config.json");

if (config) {
    // 2. Modify the value
    config.opacity = 0.8;

    // 3. Write it back
    if (system.writeJson("config.json", config)) {
        console.log("Config updated successfully");
    }
}`}
</CodeBlock>
</Method>
