---
title: widgetWindow()
description: Create and manage desktop widget windows in Novadesk
---

import CodeBlock from '@theme/CodeBlock';
import Admonition from '@theme/Admonition';

The `widgetWindow` class is the primary interface for creating and managing desktop widgets.

<Admonition type="warning">
The `widgetWindow` constructor is **only available in the [Main script](/guides/script-types/#main-script-the-brain)**. UI scripts run within an existing window and
cannot create new ones.
</Admonition>
A `widgetWindow` creates a new desktop window that can display UI elements like text and images.
Widget windows are transparent, layerable, and can be positioned anywhere on the desktop.

## Syntax

<CodeBlock language="javascript">
  {`var widget = new widgetWindow(options);`}
</CodeBlock>

## Parameters

### options (Object)

An object containing configuration options for the widget window.

## Position and Size Options

<Prop name="id" type="string" defaultValue="Required">
  Unique identifier for the widget. This ID is also used as the window title.

<Admonition type="note">
  `id` is mandatory. If you create a widget with an ID that already exists, the **existing widget will be closed and replaced** by the new one.
</Admonition>
</Prop>

<Prop name="x" type="number" defaultValue="0">
  X-coordinate of the widget position.
</Prop>

<Prop name="y" type="number" defaultValue="0">
  Y-coordinate of the widget position.
</Prop>

<Prop name="width" type="number" defaultValue="0 (Auto size to content)">
  Width of the widget in pixels.
</Prop>

<Prop name="height" type="number" defaultValue="0 (Auto size to content)">
  Height of the widget in pixels.
</Prop>

### Visual Options

<Prop name="backgroundColor" type="Color string" defaultValue="&quot;rgba(0,0,0,0)&quot;">
  [Color](/guides/colors/) of the background of the widget window.

<Admonition type="note">
  When no background color is specified, the widget will be transparent.
</Admonition>
</Prop>

<Prop name="opacity" type="number" defaultValue="1">
  Overall window opacity (0-1).
</Prop>

<Prop name="zPos" type="string" defaultValue="&quot;normal&quot;">
  Controls the widgetâ€™s **Z-order (stacking order)** relative to other windows and widgets.

  **Allowed values:** `"normal"`, `"onbottom"`, `"ondesktop"`, `"ontop"`, `"ontopmost"`
</Prop>

### Behavior Options

<Prop name="draggable" type="boolean" defaultValue="true">
  Whether the widget can be dragged by the user.
</Prop>

<Prop name="clickThrough" type="boolean" defaultValue="false">
  Whether mouse clicks pass through the widget.
</Prop>

<Prop name="keepOnScreen" type="boolean" defaultValue="false">
  Whether to keep the widget within screen bounds.
</Prop>

<Prop name="snapEdges" type="boolean" defaultValue="true">
  Whether to snap to other widgets and screen edges.
</Prop>

<Prop name="show" type="boolean" defaultValue="true">
  Controls the initial visibility of the widget.
</Prop>

<Prop name="script" type="string" defaultValue="None">
  Path to a dedicated JavaScript file that manages the widget's UI elements.

<Admonition type="warning">
  Novadesk uses a **Strict Separation of Concerns**:
  - **UI Elements** (text, images, etc.) can **only** be created and modified within the dedicated UI script using the
  global `win` object.
  - **Window Management** (position, opacity, etc.) can **only** be controlled from the main script via the widget object
  instance.
  - Both scripts use the global [ipc](/api/widget-api/widget-methods/#inter-process-communication-ipc) object for communication.
</Admonition>
</Prop>


# Z-Order Positions

Widgets can be positioned at different levels in the window stack:

#### **`ontopmost`**

- The widget remains visible when showing the desktop `(Win + D)`.
- It actively stays above all other windows.

#### **`ontop`**

- The widget remains visible when showing the desktop `(Win + D)`.
- It stays above normal application windows, but not above Topmost widgets.
- When multiple widgets use this setting, clicking one will bring it above the others.

#### **`normal`**

- The widget remains visible when showing the desktop `(Win + D)`.
- Clicking the widget will bring it to the front of other normal windows and widgets.

#### **`onbottom`**

- The widget is hidden when showing the desktop `(Win + D)`.
- It stays behind allapplication windows.
- Clicking does not change the stacking order between widget using this setting.

#### **`ondesktop`**

- The widget remains visible when showing the desktop `(Win + D)`.
- Clicking the widget does not bring it to the front of other normal windows or widgets.
- This is the recommended setting for wallpaper-like widgets.
---

## Widget Methods

Once a widget is created, you can use several methods. For more information, see [Widget Methods](/api/widget-api/widget-methods/).

## Example

<CodeBlock language="javascript">
  {`// index.js
var widget = new widgetWindow({
  id: "myWidget",
  width: 300,
  height: 150,
  backgroundColor: "rgba(30, 30, 40, 0.9)",
});`}
</CodeBlock>

## Preview

![Widget Preview](https://github.com/Official-Novadesk/novadesk-assets/blob/master/docs/widgetPreview.png?raw=true)